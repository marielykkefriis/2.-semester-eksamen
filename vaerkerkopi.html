<!DOCTYPE html>
<html lang="da">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex">s
    <title>Værker</title>
    <link rel="apple-touch-icon" sizes="57x57" href="favikon/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="favikon/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="favikon/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="favikon/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="favikon/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="favikon/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="favikon/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="favikon/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="favikon/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192" href="favikon/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="favikon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="favikon/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favikon/favicon-16x16.png">
    <link rel="manifest" href="favikon/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <header>
        <a href="catrinebrink.html">
            <div class="logo2"></div>
        </a>
        <nav>
            <ul id="menu" class="hidden">
                <li class="dropdown">
                    <a class="dropbtn  menupunkt_valgt" href="vaelgvaerker.html">VÆRKER
                        <div class="dropdown_pil"></div>
                    </a>
                    <div class="dropdown-content">
                        <a href="malerier.html">MALERIER</a>
                        <a href="plakater.html">PLAKATER</a>
                    </div>
                </li>
                <li class="dropdown">
                    <a class="dropbtn" href="events.html">EVENTS
                        <div class="dropdown_pil"></div>
                    </a>
                    <div class="dropdown-content">
                        <a href="events.html#events_udstillinger">UDSTILLINGER</a>
                        <a href="events.html#events_workshops">WORKSHOP</a>
                    </div>
                </li>
                <li>
                    <a href="kunst_i_virksomheden.html">KUNST I VIRKSOMHEDEN</a>
                </li>
                <li>
                    <a href="om.html">OM</a>
                </li>
                <li>
                    <a href="kontakt.html">KONTAKT</a>
                </li>
                <li>
                    <a class="burger_logo" href="index.html">
                        <div></div>
                    </a>
                </li>
            </ul>
            <div id="menuknap">☰</div>
        </nav>
    </header>

    <main id="vaerker">
        <div class="header_billede"></div>
        <section id="breadcrumbs">
            <ul class="">
                <li><a href="index.html">STARTSIDE</a></li>
                <li><a href="vaerker.html">VÆRKER</a></li>
            </ul>
        </section>



        <h2 id="overskrift" class="filterTekst">MALERIER</h2>

        <div class="grid_container">
            <div class="sidebar">
                <nav class="filter_knapper">
                    <button class="filter" data-kategori="Malerier">MALERIER</button>

                    <button class="filter" data-kategori="Plakater">PLAKATER</button>
                </nav>
            </div>

            <!--    tom section til grid visning af indhold-->
            <section class="data_container"></section>

        </div>



        <!--   template indeholder hvordan data skal placeres iforhold til hinanden-->
        <template>
            <article class="produkt_article">
                <div class="billed_ramme">
                    <img src="" alt="img">
                </div>
                <h2></h2>
                <p></p>
            </article>
        </template>

        <section id="om_udstillinger">
            <a href="events.html">
                <div class="om_udstillinger_container">
                    <button>SE UDSTILLINGER</button>
                </div>
            </a>
        </section>

    </main>

    <footer>
        <div class="instagram_wrapper">
            <h2>INSTAGRAM @CATRINEBRINK</h2>
            <div class="insta_container">
                <div class="insta_sprite">
                    <div class="insta_billede_1">
                        <a href="https://www.instagram.com/p/B5kqBfph18k/">
                            <div class="insta_1"></div>
                        </a>
                    </div>
                    <div class="insta_billede_2">
                        <a href="https://www.instagram.com/p/B5pfUZNBb5T/">
                            <div class="insta_2">
                            </div>
                        </a>
                    </div>
                    <div class="insta_billede_3">
                        <a href="https://www.instagram.com/p/B5ci9xMB3Xr/">
                            <div class="insta_3">
                            </div>
                        </a>
                    </div>
                </div>
                <div class="insta_sprite">
                    <div class="insta_billede_4"><a href="https://www.instagram.com/p/B5ZpZlpBt0s/">
                            <div class="insta_4"></div>
                        </a>
                    </div>
                    <div class="insta_billede_5"><a href="https://www.instagram.com/p/B5XW5uSBKlr/">
                            <div class="insta_5"></div>
                        </a>
                    </div>
                    <div class="insta_billede_6"><a href="https://www.instagram.com/p/B5UdoGbhUg0/">
                            <div class="insta_6"></div>
                        </a>
                    </div>
                </div>
            </div>
            <div class="footer_signatur"></div>
        </div>
        <div class="footer">
            <div class="footer_1 footer_col">
                <p><a href="">cb@catrinebrink.dk</a></p>
            </div>
            <div class="footer_2 footer_col">
                <p>Tlf: <a href="tel: 53 55 81 69">53 55 81 69</a></p>

            </div>
            <div class="footer_3 footer_col">
                <p>2400 KØBENHAVN NV</p>

            </div>
            <div class="footer_4 footer_col">
                <a href="https://www.instagram.com/catrinebrink/?hl=da" target="_blank">
                    <div class="instagram SoMe-ikon"></div>
                </a>
                <a href="https://www.facebook.com/bycatrinebrink" target="_blank">
                    <div class="facebook SoMe-ikon"></div>
                </a>
                <a href="https://dk.linkedin.com/in/catrinebrink" target="_blank">
                    <div class="linkedin SoMe-ikon"></div>
                </a>

            </div>
        </div>
    </footer>

    <script src="script.js"></script>

    <script>
        document.addEventListener("DOMContentLoaded", hentjson);

        let vaerker;
        let filter = "";

        const listevisning = document.querySelector(".data_container");
        const template = document.querySelector("template");

        //      i funktion læses jsonfilen og dataindholdet bliver sat = variablen planter
        async function hentjson() {
            console.log("hentjson");

            let myRawjson = await fetch("http://marollemarie.dk/kea/2.semester/Eksamen/wordpress/wp-json/wp/v2/vaerker?per_page=100");

            vaerker = await myRawjson.json();

            //            kalder funktionerne
            informationer();
            addEventlistenerToButton();

        }

        function informationer() {
            console.log("virker");


            //  indholdet for constanten listevisning nulstillet
            listevisning.textContent = "";

            // plante-array gennemgåes plante for plante og listevisningen bliver udfyldt
            vaerker.forEach((vaerk) => {

                if (filter == "" || filter == vaerk.kategori) {


                    const klon = template.cloneNode(true).content;

                    //placering for data fra json vælges
                    klon.querySelector("img").src = vaerk.billede_front.guid;

                    klon.querySelector("article h2").textContent = vaerk.navn;

                    klon.querySelector("article p").textContent = vaerk.maal;


                    listevisning.appendChild(klon);
                    listevisning.lastElementChild.addEventListener("click", () => {
                        location.href = `enkeltside.html?id=${vaerk.id}`;
                    });

                }

            });
        }

        //funktionen lytter efter om der bliver klikket på filterknapperne
        function addEventlistenerToButton() {
            document.querySelectorAll(".filter").forEach(elm => {
                elm.addEventListener("click", filtrering);
            });
        }

        //funktionen fortælle hvilke data der skal vises alt efter hvilken filterknap der klikkes på
        function filtrering() {
            if (this.dataset.kategori) {
                filter = this.dataset.kategori;
                document.querySelector("h2").textContent = this.textContent;
                if (document.querySelector(".valgt")) {
                    document.querySelector(".valgt").classList.remove("valgt");
                }
                console.log("filter");
            }

            this.classList.add("valgt");
            location.href = "#overskrift";

            informationer();
        }
        /*else if (this.dataset.kategori) {
                       filter = this.dataset.kategori;

                       document.querySelector("h2").textContent = this.textContent;
                       document.querySelectorAll(".filter").forEach(elm => {
                           elm.classList.remove("valgt");
                           console.log(`${filter}`);
                       });

                       this.classList.add("valgt");

                       informationer();
        }
        }*/
    </script>
</body></html>
